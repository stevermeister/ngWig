"function"!=typeof angular.element.prototype.outerHeight&&(angular.element.prototype.outerHeight=function(){function a(a){return"px"===a.slice(-2)?parseFloat(a.slice(0,-2)):0}var b,c=!1,d=this.eq(0),e=d[0];return arguments[0]===!0||arguments[0]===!1||void 0===arguments[0]?d.length?(c=arguments[0]&&!0||!1,b=e.outerHeight?e.outerHeight:e.offsetHeight,c&&(b+=a(d.css("marginTop"))+a(d.css("marginBottom"))),b):0:d.length?(b=parseFloat(arguments[0]),c=arguments[1]&&!0||!1,c&&(b-=a(d.css("marginTop"))+a(d.css("marginBottom"))),b-=a(d.css("borderTopWidth"))+a(d.css("borderBottomWidth"))+a(d.css("paddingTop"))+a(d.css("paddingBottom")),d.css("height",b+"px"),this):this}),angular.module("ngWig",["ngwig-app-templates"]),angular.module("ngWig").directive("ngWig",function(){return{scope:{content:"=ngWig",debug:"&",cssPath:"@"},restrict:"A",replace:!0,templateUrl:"ng-wig/views/ng-wig.html",link:function(a,b,c){a.originalHeight=b.outerHeight(),a.editMode=!1,a.autoexpand=!("autoexpand"in c)||"off"!==c.autoexpand,a.cssPath=a.cssPath?a.cssPath:"css/ng-wig.css",a.toggleEditMode=function(){a.editMode=!a.editMode},a.execCommand=function(b,c){"createlink"===b&&(c=prompt("Please enter the URL","http://")),a.$emit("execCommand",{command:b,options:c})},a.resizeEditor=function(a){var c=b.children();for(var d in c){var e=c.eq(d);if(e.hasClass("nw-editor")){e.outerHeight(a);break}}}}}}),angular.module("ngWig").directive("ngWigEditable",function(){function a(a,b,c,d){function e(){if(a.autoexpand)b=angular.element(g.documentElement).outerHeight();else var b=a.originalHeight;a.resizeEditor(b)}var f,g=b[0].contentDocument;g.open(),g.write("<!DOCTYPE html><html><head>"+(a.cssPath?'<link href="'+a.cssPath+'" rel="stylesheet" type="text/css">':"")+'</head><body contenteditable="true"></body></html>'),g.close(),f=angular.element(b[0].contentDocument.body),d.$render=function(){f[0].innerHTML=d.$viewValue||""},f.bind("blur keyup change paste",function(){e(),a.$apply(function(){d.$setViewValue(f.html())})}),a.$on("execCommand",function(b,c){var h=g.selection,i=c.command,j=c.options;if(h){var k=h.createRange();g.execCommand(i,!1,j),k.collapse(!1),k.select()}else g.execCommand(i,!1,j);g.body.focus(),a.$evalAsync(function(){d.$setViewValue(f.html()),e()})}),a.$watch("autoexpand",e),a.$watch("editMode",function(a,b){b&&e()})}return{restrict:"A",require:"ngModel",replace:!0,link:a}}),angular.module("ngwig-app-templates",["ng-wig/views/ng-wig.html"]),angular.module("ng-wig/views/ng-wig.html",[]).run(["$templateCache",function(a){a.put("ng-wig/views/ng-wig.html",'<div class="ng-wig">\n  <ul class="nw-toolbar">\n    <li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--header-one" title="Header" ng-click="execCommand(\'formatblock\', \'<h1>\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--paragraph" title="Paragraph" ng-click="execCommand(\'formatblock\', \'<p>\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--unordered-list" title="Unordered List" ng-click="execCommand(\'insertunorderedlist\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--ordered-list" title="Ordered List" ng-click="execCommand(\'insertorderedlist\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--bold" title="Bold" ng-click="execCommand(\'bold\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--italic" title="Italic" ng-click="execCommand(\'italic\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--underline" title="Underline" ng-click="execCommand(\'underline\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--link" title="link" ng-click="execCommand(\'createlink\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--source" ng-class="{ \'nw-button--active\': editMode }" ng-click="toggleEditMode()"></button>\n    </li>\n  </ul>\n\n  <div class="nw-editor">\n    <textarea class="nw-editor__src" ng-show="editMode" ng-model="content"></textarea>\n    <iframe scrolling="{{ autoexpand ? \'no\' : \'yes\' }}" class="nw-editor__res" frameBorder="0" ng-hide="editMode" ng-model="content" ng-wig-editable></iframe>\n  </div>\n</div>\n')}]);